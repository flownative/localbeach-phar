#!/usr/bin/env php
<?php

require __DIR__.'/../vendor/autoload.php';

use Symfony\Component\Config\FileLocator;
use Symfony\Component\Console\Application;
use Symfony\Component\DependencyInjection\ContainerBuilder;
use Symfony\Component\DependencyInjection\Loader\YamlFileLoader;

$container = new ContainerBuilder();
$loader = new YamlFileLoader($container, new FileLocator());
$loader->load(CLI_ROOT_PATH . 'config/services.yaml');

$application = new Application('Beach CLI', APP_VERSION);
$application->add($container->get('resources_download'));
$application->add($container->get('local_init'));
$application->add($container->get('localbeach_prepare'));
$application->add($container->get('localbeach_start'));
$application->add($container->get('localbeach_stop'));
$application->add($container->get('localbeach_setup'));
$application->add($container->get('local_start'));
$application->add($container->get('local_stop'));
$application->add($container->get('local_database_sql'));
$application->run();
